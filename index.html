<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Detector</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Traffic Detector</h1>
            <p>–î–µ—Ç–µ–∫—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏ –ø–µ—à–µ—Ö–æ–¥–æ–≤</p>
        </header>

        <div class="class-tags">
            <span class="tag tag-pedestrian">–ü–µ—à–µ—Ö–æ–¥—ã</span>
            <span class="tag tag-car">–ú–∞—à–∏–Ω—ã</span>
            <span class="tag tag-motorbike">–ú–æ—Ç–æ—Ü–∏–∫–ª—ã</span>
            <span class="tag tag-truck">–ì—Ä—É–∑–æ–≤–∏–∫–∏</span>
        </div>

        <div class="upload-section">
            <h3>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
            <p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, WEBP, GIF</p>
            <p style="color: #666; font-size: 14px; margin-top: 5px;">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 15MB</p>
            <form id="upload-form" enctype="multipart/form-data">
                <label class="btn">
                    üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                    <input type="file" name="file" accept="image/*" id="file-input" style="display:none;">
                </label>
                <div id="preview-container" style="display: none; margin-top: 20px;">
                    <img id="preview-image" style="max-width: 300px; max-height: 300px; border-radius: 5px; object-fit: contain;">
                    <div id="file-info" style="margin-top: 10px; color: #666; font-size: 14px;"></div>
                    <div style="margin-top: 15px;">
                        <button type="button" class="btn" onclick="uploadImage()">üîç –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button type="button" class="btn btn-cancel" onclick="cancelUpload()">‚ùå –û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </form>
            <div id="loading" style="display: none; margin-top: 20px;">
                <div class="spinner"></div>
                <p>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...</p>
                <p style="font-size: 14px; color: #666; margin-top: 5px;">–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</p>
            </div>
        </div>

        <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
            <h3 style="margin-top: 0;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h3>
            <p style="color: #666; line-height: 1.6;">
                <strong>1.</strong> –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ –∏–ª–∏ –ø–µ—à–µ—Ö–æ–¥–∞–º–∏<br>
                <strong>2.</strong> –ê–Ω—Å–∞–º–±–ª—å –º–æ–¥–µ–ª–µ–π (–≤–∞—à–∞ –º–æ–¥–µ–ª—å + YOLOv8) –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ<br>
                <strong>3.</strong> –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∏ –ø–æ–¥—Å—á–∏—Ç–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã 4 –∫–ª–∞—Å—Å–æ–≤<br>
                <strong>4.</strong> –í—ã —É–≤–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
            </p>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ
        document.getElementById('file-input').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const fileInfo = document.getElementById('file-info');
                const size = formatFileSize(file.size);
                const name = file.name.length > 30 ? file.name.substring(0, 30) + '...' : file.name;

                fileInfo.innerHTML = `
                    <strong>–§–∞–π–ª:</strong> ${name}<br>
                    <strong>–†–∞–∑–º–µ—Ä:</strong> ${size}<br>
                    <strong>–¢–∏–ø:</strong> ${file.type}
                `;
            }
        });
    </script>
</body>
</html>